webpackJsonp([2],{155:function(e,t,a){"use strict";function r(e){a(203)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(166),s=a(205),o=a(34),i=r,c=o(n.a,s.a,!1,i,"data-v-47d15aa2",null);t.default=c.exports},156:function(e,t,a){"use strict";function r(e){a(206)}Object.defineProperty(t,"__esModule",{value:!0});var n=a(167),s=a(209),o=a(34),i=r,c=o(n.a,s.a,!1,i,"data-v-2e8381de",null);t.default=c.exports},158:function(e,t,a){"use strict";var r=a(59),n=a.n(r),s=a(32),o=a.n(s),i=a(33),c=a.n(i),l=a(58),d=a.n(l),u=a(16),m=function(){function e(){o()(this,e)}return c()(e,null,[{key:"AddNewAndPrintDineInOrderItem",value:function(e,t,a,r,s,o){var i=u.a.getUserToken(),c={ParameterNames:"orderPK|menuPK|quantity|price|comboList|requestList",Parameters:[e,t,a,r,s,o]};n()(i,c);var l=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/AddNewAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(l,i)}},{key:"CreateDineInOrderItem",value:function(e,t,a,r,s){var o=u.a.getUserToken(),i={ParameterNames:"menuPK|quantity|price|comboList|requestList",Parameters:[e,t,a,r,s]};n()(o,i);var c=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/CreateDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(c,o)}},{key:"DeleteAndPrintDineInOrderItem",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"orderItemPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/DeleteAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(r,t)}},{key:"GetCurrentOrders",value:function(){var e=u.a.getUserToken(),t={ParameterNames:"",Parameters:[]};n()(e,t);var a=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/GetCurrentOrders?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(a,e)}},{key:"GetInitializeOrder",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"orderPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/GetInitializeOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(r,t)}},{key:"GetInitializeOrderItem",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"orderItemPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/GetInitializeOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(r,t)}},{key:"ReprintDineInOrder",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"orderPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/ReprintDineInOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(r,t)}},{key:"SaveAndPrintDineInOrder",value:function(e,t,a,r){var s=u.a.getUserToken(),o={ParameterNames:"list|tablePK|numberOfCust|mealTypeID",Parameters:[e,t,a,r]};n()(s,o);var i=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/SaveAndPrintDineInOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(i,s)}},{key:"UpdateAndPrintDineInOrderItem",value:function(e,t,a,r,s){var o=u.a.getUserToken(),i={ParameterNames:"orderItemPK|quantity|price|comboList|requestList",Parameters:[e,t,a,r,s]};n()(o,i);var c=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/UpdateAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(c,o)}},{key:"Login",value:function(e,t,a){var r=u.a.createUserToken(e,t,a),s={ParameterNames:"",Parameters:[]};n()(r,s);var o=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/LoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(o,r)}},{key:"QuickLogin",value:function(e){var t=u.a.createUserToken(e,"",0),a={ParameterNames:"userId",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"FacadeService/GetBizPOSResult/QuickLoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return d.a.post(r,t)}}]),e}();t.a=m},166:function(e,t,a){"use strict";var r=a(35),n=(a.n(r),a(158));t.a={name:"OrderList",data:function(){return{list:[]}},mounted:function(){var e=this;r.Indicator.open(),n.a.GetCurrentOrders().then(function(t){e.list=t.data,r.Indicator.close()}).catch(function(e){r.Indicator.close(),console.log(e)})},methods:{itemClick:function(e){this.$router.push({name:"OrderDetail",params:{orderPK:e}})}}}},167:function(e,t,a){"use strict";var r=a(35),n=(a.n(r),a(158)),s=a(208);t.a={name:"OrderDetail",data:function(){return{orderPK:"",order:{},list:[],subtotal:0,tax:0,total:0,command:[],selectedItem:"",commandVisible:!1}},created:function(){this.orderPK=this.$route.params.orderPK,this.command.push({name:"Add Line",method:this.addLine}),this.command.push({name:"Remove Line",method:this.removeLine}),this.command.push({name:"Edit",method:this.editItem}),this.command.push({name:"Delete",method:this.deleteItem})},mounted:function(){var e=this;r.Indicator.open(),n.a.GetInitializeOrder(this.orderPK).then(function(t){e.order=t.data,e.list=t.data.OrdItemList,e.initOrder(),r.Indicator.close()}).catch(function(e){r.Indicator.close(),console.log(e)})},methods:{itemClick:function(e){this.selectedItem=e,this.commandVisible=!0},getSelectedData:function(){for(var e=null,t=0;t<this.list.length;t++)if(this.list[t].OrdItemPK==this.selectedItem){e=this.list[t];break}return e},addLine:function(){var e=this.getSelectedData();null!=e&&(e.IsNew?e.FollowByLine=!0:(r.Indicator.open(),s.a.UpdateFollowByLine(e.OrdItemPK,!0).then(function(t){e.FollowByLine=!0,r.Indicator.close()}).catch(function(e){console.log(e),r.Indicator.close()})))},removeLine:function(){var e=this.getSelectedData();null!=e&&(e.IsNew?e.FollowByLine=!1:(r.Indicator.open(),s.a.UpdateFollowByLine(e.OrdItemPK,!1).then(function(t){e.FollowByLine=!1,r.Indicator.close()}).catch(function(e){console.log(e),r.Indicator.close()})))},addNewItem:function(){this.$router.push({name:"MenuCategory",params:{orderPK:this.orderPK}})},editItem:function(){var e=this.getSelectedData();null!=e&&this.$router.push({name:"AddToCart",params:{menuPK:e.MnuItemPK,orderPK:this.orderPK,orderItemPK:e.OrdItemPK}})},deleteItem:function(){var e=this;r.MessageBox.confirm("Are you sure to delete this item ?","Delete Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(function(t){r.Indicator.open(),n.a.DeleteAndPrintDineInOrderItem(e.selectedItem).then(function(t){t.data.OK||console.log(t.data.Error);for(var a=0;a<e.list.length;a++)if(e.list[a].OrdItemPK==e.selectedItem){e.list.splice(a,1);break}r.Indicator.close(),e.$router.push({name:"OrderList"})}).catch(function(e){r.Indicator.close(),console.log(e)})}).catch(function(e){console.log(e)})},initOrder:function(){var e=this;this.list.forEach(function(t,a){var r=t.PaidItemPrice+t.PaidSelectPrice+t.PaidReqPrice;e.subtotal+=r*t.Quantity;var n=t.StateTaxRate+t.LocalTaxRate;e.tax+=n*t.Quantity}),this.total=this.subtotal+this.tax}}}},203:function(e,t,a){var r=a(204);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(18)("51cef0aa",r,!0,{})},204:function(e,t,a){t=e.exports=a(17)(!1),t.push([e.i,".page-header[data-v-47d15aa2]{margin-bottom:42px}.QSNumber[data-v-47d15aa2]{width:30px;display:inline-block}.saleTime[data-v-47d15aa2]{margin-left:40px}.open-order[data-v-47d15aa2]{color:#e83626}.close-order[data-v-47d15aa2]{color:#3d9c49}.mint-header[data-v-47d15aa2]{background-color:#1d5cc2}",""])},205:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"page-header"},[a("mt-header",{attrs:{fixed:"",title:"Order List"}},[a("router-link",{attrs:{slot:"left",to:{name:"Dashboard"}},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),e._v(" "),a("div",{staticClass:"page-content"},e._l(e.list,function(t){return a("div",{key:t.OrdOrderPK},[a("mt-cell",{class:{"open-order":!t.Closed,"close-order":t.Closed}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"QSNumber"},[e._v(e._s(t.QSNumber1.toString()))]),e._v(" "),a("span",{staticClass:"saleTime"},[e._v(e._s(t.DateTime.toString()))])]),e._v(" "),a("mt-button",{attrs:{icon:"more"},on:{click:function(a){e.itemClick(t.OrdOrderPK)}}})],1)],1)}))])},n=[],s={render:r,staticRenderFns:n};t.a=s},206:function(e,t,a){var r=a(207);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(18)("3b42198f",r,!0,{})},207:function(e,t,a){t=e.exports=a(17)(!1),t.push([e.i,".page-header[data-v-2e8381de]{margin-bottom:42px}.quantity[data-v-2e8381de]{width:30px;display:inline-block}.price[data-v-2e8381de]{margin-right:10px}.combo[data-v-2e8381de],.request[data-v-2e8381de]{margin-left:40px;display:inline-block}.total[data-v-2e8381de]{margin-right:50px}.followByLine[data-v-2e8381de]{border-bottom-width:1px;border-bottom-style:solid}.mint-button--primary[data-v-2e8381de]{height:70px;width:180px;background-color:#e8e8e8;border-radius:0;border-top:2px solid #ebebeb;border-left:2px solid #ebebeb;border-bottom:2px solid #747474;border-right:2px solid #747474;color:#395988;margin:20px auto}",""])},208:function(e,t,a){"use strict";var r=a(59),n=a.n(r),s=a(32),o=a.n(s),i=a(33),c=a.n(i),l=a(58),d=a.n(l),u=a(16),m=function(){function e(){o()(this,e)}return c()(e,null,[{key:"DeleteByPKList",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"pkList",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/DeleteByPKList?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetAll",value:function(){var e=u.a.getUserToken(),t={ParameterNames:"",Parameters:[]};n()(e,t);var a=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetAll?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(a,e)}},{key:"GetAllCount",value:function(){var e=u.a.getUserToken(),t={ParameterNames:"",Parameters:[]};n()(e,t);var a=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetAllCount?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(a,e)}},{key:"GetAllPage",value:function(e,t){var a=u.a.getUserToken(),r={ParameterNames:"pageIndex|pageSize",Parameters:[e,t]};n()(a,r);var s=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetAllPage?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(s,a)}},{key:"GetByCriteria",value:function(e,t,a){var r=u.a.getUserToken(),s={ParameterNames:"criteria|pageIndex|pageSize",Parameters:[e,t,a]};n()(r,s);var o=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetByCriteria?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(o,r)}},{key:"GetByMappedChkCheck",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"ChkCheckPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetByMappedChkCheck?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetByOrdOrder",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"ordOrderPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetByOrdOrder?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetByPK",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"ordItemPK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetByPK?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetBySalesDate",value:function(e,t,a){var r=u.a.getUserToken(),s={ParameterNames:"storePK|begin|end",Parameters:[e,t,a]};n()(r,s);var o=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetBySalesDate?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(o,r)}},{key:"GetBySalesDate_1",value:function(e,t,a,r,s){var o=u.a.getUserToken(),i={ParameterNames:"storePK|begin|end|isVoid|isClosed",Parameters:[e,t,a,r,s]};n()(o,i);var c=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetBySalesDate?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(c,o)}},{key:"GetByStrStore",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"strStorePK",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetByStrStore?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetCountByCriteria",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"criteria",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetCountByCriteria?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"GetJsonByCriteria",value:function(e,t,a){var r=u.a.getUserToken(),s={ParameterNames:"criteria|pageIndex|pageSize",Parameters:[e,t,a]};n()(r,s);var o=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetJsonByCriteria?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(o,r)}},{key:"GetNewEntity",value:function(){var e=u.a.getUserToken(),t={ParameterNames:"",Parameters:[]};n()(e,t);var a=u.a.getBaseUrl()+"DataService/GetOrdItemResult/GetNewEntity?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(a,e)}},{key:"Purge",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"entity",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/Purge?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"UpdateFollowByLine",value:function(e,t){var a=u.a.getUserToken(),r={ParameterNames:"OrdItemPK|FollowByLine",Parameters:[e,t]};n()(a,r);var s=u.a.getBaseUrl()+"DataService/GetOrdItemResult/UpdateFollowByLine?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(s,a)}},{key:"Save",value:function(e){var t=u.a.getUserToken(),a={ParameterNames:"entity",Parameters:[e]};n()(t,a);var r=u.a.getBaseUrl()+"DataService/GetOrdItemResult/Save?access_token=C3DBAB52-AE47-484F-AF60-D817B07EBDB5";return d.a.post(r,t)}},{key:"ExportToExcel",value:function(e,t,a){var r=u.a.getUserToken(),s={ParameterNames:"criteria|pageIndex|pageSize",Parameters:[e,t,a]};n()(r,s);var o=u.a.getBaseUrl()+"DownloadService/ExportToExcel?tableName=OrdItem";return d.a.post(o,r,{responseType:"blob"})}},{key:"ImportFromExcel",value:function(e){var t=u.a.getUserToken(),a=new FormData;a.append("UserId",t.UserId),a.append("Password",t.Password),a.append("Ticks",t.Ticks),a.append("file",e);var r=u.a.getBaseUrl()+"UploadService/ImportFromExcel?tableName=OrdItem";return d.a.post(r,a,{headers:{"Content-Type":"multipart/form-data"}})}}]),e}();t.a=m},209:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"page-header"},[a("mt-header",{attrs:{fixed:"",title:"Order Detail"}},[a("router-link",{attrs:{slot:"left",to:{name:"OrderList"}},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),e._v(" "),e._l(e.list,function(t){return a("div",{key:t.OrdItemPK},[a("mt-cell",{class:t.FollowByLine?"followByLine":""},[a("span",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"quantity"},[e._v(e._s(t.Quantity))]),e._v(" "),a("span",[e._v(e._s(t.ItemName))]),e._v(" "),e._l(t.OrdItemSelectionList,function(t){return a("div",{key:t.OrdItemSelectionPK},[a("span",{staticClass:"combo"},[e._v(e._s(t.SelectItemName))])])}),e._v(" "),e._l(t.OrdItemRequestList,function(t){return a("div",{key:t.OrdItemRequestPK},[a("span",{staticClass:"request"},[e._v(e._s(t.ActionName)+" - "+e._s(t.ReqItemName))])])})],2),e._v(" "),a("span",{staticClass:"price"},[e._v(e._s((t.PaidItemPrice*t.Quantity).toFixed(2)))]),e._v(" "),e.order.Closed?e._e():a("mt-button",{attrs:{icon:"more"},on:{click:function(a){e.itemClick(t.OrdItemPK)}}})],1)],1)}),e._v(" "),a("mt-cell",[a("span",{staticClass:"total"},[e._v("SubTotal: "+e._s(e.subtotal.toFixed(2)))])]),e._v(" "),a("mt-cell",[a("span",{staticClass:"total"},[e._v("Tax: "+e._s(e.tax.toFixed(2)))])]),e._v(" "),a("mt-cell",[a("span",{staticClass:"total"},[e._v("Total: "+e._s(e.total.toFixed(2)))])]),e._v(" "),e.order.Closed?e._e():a("div",[a("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.addNewItem}},[e._v("Add New Item")]),e._v(" "),a("mt-actionsheet",{attrs:{actions:e.command,cancelText:"Cancel"},model:{value:e.commandVisible,callback:function(t){e.commandVisible=t},expression:"commandVisible"}})],1)],2)},n=[],s={render:r,staticRenderFns:n};t.a=s}});
//# sourceMappingURL=2.build.js.map