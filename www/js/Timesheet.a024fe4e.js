(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Timesheet"],{"58f0":function(e,t,a){"use strict";var s=a("b531"),c=a.n(s);c.a},b531:function(e,t,a){},d1a1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"page-header"},[a("mt-header",{attrs:{fixed:"",title:"Timesheet List"}},[a("router-link",{attrs:{slot:"left",to:{name:"Dashboard"}},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),a("div",{staticClass:"page-content"},[e._l(e.list,function(t){return a("div",{key:t.UsrTimeSheetPK},[a("mt-cell",{class:{"open-clock":!t.Completed,"close-clock":t.Completed}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"salesDate"},[e._v(e._s(t.SalesDate))]),a("span",{staticClass:"postIn"},[e._v(e._s(t.PostIn))]),a("span",{staticClass:"postOut"},[e._v(e._s(t.PostOut))])]),a("span",{staticClass:"price"},[e._v(e._s(t.PostHour.toFixed(2)))])])],1)}),a("mt-cell",[a("span",[e._v("Total: "+e._s(e.total.toFixed(2)))])])],2),a("mt-tabbar",{attrs:{fixed:""}},[e.hasCheckOut?a("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.checkInClick}},[e._v("Check In")]):e._e(),e.hasCheckOut?e._e():a("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.checkOutClick}},[e._v("Check Out")])],1)],1)},c=[],r=(a("ac6a"),a("76a0")),n=a("ed08"),o=(a("f751"),a("c665")),i=a("aa9a"),l=a("bc3a"),u=a.n(l),k=function(){function e(){Object(o["a"])(this,e)}return Object(i["a"])(e,null,[{key:"CheckIn",value:function(e){var t=n["a"].getUserToken(),a={ParameterNames:"usrAccountPK",Parameters:[e]};Object.assign(t,a);var s=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/CheckIn?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(s,t)}},{key:"CheckOut",value:function(e){var t=n["a"].getUserToken(),a={ParameterNames:"usrAccountPK",Parameters:[e]};Object.assign(t,a);var s=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/CheckOut?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(s,t)}},{key:"CheckOutTimeSheet",value:function(e){var t=n["a"].getUserToken(),a={ParameterNames:"timesheetPK",Parameters:[e]};Object.assign(t,a);var s=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/CheckOutTimeSheet?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(s,t)}},{key:"GetCurrentOpeningTimesheets",value:function(){var e=n["a"].getUserToken(),t={ParameterNames:"",Parameters:[]};Object.assign(e,t);var a=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/GetCurrentOpeningTimesheets?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(a,e)}},{key:"GetLastWeekTimesheets",value:function(e){var t=n["a"].getUserToken(),a={ParameterNames:"usrAccountPK",Parameters:[e]};Object.assign(t,a);var s=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/GetLastWeekTimesheets?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(s,t)}},{key:"IsCheckIn",value:function(e){var t=n["a"].getUserToken(),a={ParameterNames:"usrAccountPK",Parameters:[e]};Object.assign(t,a);var s=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/IsCheckIn?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(s,t)}},{key:"Login",value:function(e,t,a){var s=n["a"].createUserToken(e,t,a),c={ParameterNames:"",Parameters:[]};Object.assign(s,c);var r=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/LoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(r,s)}},{key:"QuickLogin",value:function(e,t){var a=n["a"].createUserToken(e,"",0),s={ParameterNames:"userId|uuid",Parameters:[e,t]};Object.assign(a,s);var c=n["a"].getBaseUrl()+"FacadeService/GetBizHRResult/QuickLoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return u.a.post(c,a)}}]),e}(),h={name:"TimesheetList",data:function(){return{list:[],total:0,hasCheckOut:!1}},mounted:function(){this.loadList()},methods:{loadList:function(){var e=this;r["Indicator"].open();var t=n["a"].getUserPK();k.GetLastWeekTimesheets(t).then(function(t){e.list=t.data,e.hasCheckOut=!0,e.total=0,e.list.forEach(function(t,a){e.total+=t.PostHour,!t.Completed&&t.IsToday&&(e.hasCheckOut=!1)}),r["Indicator"].close()}).catch(function(e){r["Indicator"].close(),console.log(e)})},formatSalesDate:function(e){return n["a"].formatDateTime(e,"MM/dd/yyyy")},checkInClick:function(){var e=this;r["Indicator"].open();var t=n["a"].getUserPK();k.CheckIn(t).then(function(t){t.data.OK?e.loadList():(console.log(t.data.Error),Object(r["Toast"])(t.data.Error)),r["Indicator"].close()}).catch(function(e){r["Indicator"].close(),console.log(e)})},checkOutClick:function(){var e=this;r["Indicator"].open();var t=n["a"].getUserPK();k.CheckOut(t).then(function(t){t.data.OK?e.loadList():(console.log(t.data.Error),Object(r["Toast"])(t.data.Error)),r["Indicator"].close()}).catch(function(e){r["Indicator"].close(),console.log(e)})}}},m=h,d=(a("58f0"),a("2877")),v=Object(d["a"])(m,s,c,!1,null,"065847ed",null);v.options.__file="timesheetlist.vue";t["default"]=v.exports}}]);
//# sourceMappingURL=Timesheet.a024fe4e.js.map