(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Menu"],{"0544":function(e,t,i){"use strict";i.d(t,"a",function(){return c});i("f751");var a=i("c665"),s=i("aa9a"),r=i("bc3a"),n=i.n(r),o=i("ed08"),c=function(){function e(){Object(a["a"])(this,e)}return Object(s["a"])(e,null,[{key:"AddNewAndPrintDineInOrderItem",value:function(e,t,i,a,s,r){var c=o["a"].getUserToken(),l={ParameterNames:"orderPK|menuPK|quantity|price|comboList|requestList",Parameters:[e,t,i,a,s,r]};Object.assign(c,l);var u=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/AddNewAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(u,c)}},{key:"CreateDineInOrderItem",value:function(e,t,i,a,s){var r=o["a"].getUserToken(),c={ParameterNames:"menuPK|quantity|price|comboList|requestList",Parameters:[e,t,i,a,s]};Object.assign(r,c);var l=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/CreateDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(l,r)}},{key:"DeleteAndPrintDineInOrderItem",value:function(e){var t=o["a"].getUserToken(),i={ParameterNames:"orderItemPK",Parameters:[e]};Object.assign(t,i);var a=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/DeleteAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(a,t)}},{key:"GetCurrentOrders",value:function(){var e=o["a"].getUserToken(),t={ParameterNames:"",Parameters:[]};Object.assign(e,t);var i=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/GetCurrentOrders?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(i,e)}},{key:"GetInitializeOrder",value:function(e){var t=o["a"].getUserToken(),i={ParameterNames:"orderPK",Parameters:[e]};Object.assign(t,i);var a=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/GetInitializeOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(a,t)}},{key:"GetInitializeOrderItem",value:function(e){var t=o["a"].getUserToken(),i={ParameterNames:"orderItemPK",Parameters:[e]};Object.assign(t,i);var a=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/GetInitializeOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(a,t)}},{key:"ReprintDineInOrder",value:function(e){var t=o["a"].getUserToken(),i={ParameterNames:"orderPK",Parameters:[e]};Object.assign(t,i);var a=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/ReprintDineInOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(a,t)}},{key:"SaveAndPrintDineInOrder",value:function(e,t,i,a,s,r){var c=o["a"].getUserToken(),l={ParameterNames:"list|requestList|uuid|tablePK|numberOfCust|mealTypeID",Parameters:[e,t,i,a,s,r]};Object.assign(c,l);var u=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/SaveAndPrintDineInOrder?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(u,c)}},{key:"UpdateAndPrintDineInOrderItem",value:function(e,t,i,a,s){var r=o["a"].getUserToken(),c={ParameterNames:"orderItemPK|quantity|price|comboList|requestList",Parameters:[e,t,i,a,s]};Object.assign(r,c);var l=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/UpdateAndPrintDineInOrderItem?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(l,r)}},{key:"UpdateOrderRequestAndPrint",value:function(e,t){var i=o["a"].getUserToken(),a={ParameterNames:"orderPK|requestList",Parameters:[e,t]};Object.assign(i,a);var s=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/UpdateOrderRequestAndPrint?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(s,i)}},{key:"Login",value:function(e,t,i){var a=o["a"].createUserToken(e,t,i),s={ParameterNames:"",Parameters:[]};Object.assign(a,s);var r=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/LoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(r,a)}},{key:"QuickLogin",value:function(e,t){var i=o["a"].createUserToken(e,"",0),a={ParameterNames:"userId|uuid",Parameters:[e,t]};Object.assign(i,a);var s=o["a"].getBaseUrl()+"FacadeService/GetBizPOSResult/QuickLoginByAjax?access_token=01DA64C9-E198-4026-B9B4-AFBEE9DAF33B";return n.a.post(s,i)}}]),e}()},"0d0d":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-header"},[i("mt-header",{attrs:{fixed:"",title:"Menu Category"}},[i("router-link",{attrs:{slot:"left",to:{name:"Dashboard"}},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),e._l(e.list,function(t){return i("div",{key:t.MnuCategoryPK,staticClass:"list"},[i("mt-button",{staticClass:"list-item",attrs:{plain:""},on:{click:function(i){e.itemClick(t.MnuCategoryPK)}}},[e._v(e._s(t.CategoryName))])],1)})],2)},s=[],r={name:"MenuCategory",data:function(){return{orderPK:"",list:[]}},created:function(){this.orderPK=this.$route.params.orderPK},methods:{itemClick:function(e){this.$router.push({name:"Menu",params:{categoryPK:e,orderPK:this.orderPK}})}},mounted:function(){this.list=this.$store.state.menuCategoryList,0==this.list.length&&this.$router.push({name:"Loading"})}},n=r,o=(i("0f60"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"466e67b4",null);c.options.__file="category.vue";t["default"]=c.exports},"0f60":function(e,t,i){"use strict";var a=i("a6a1"),s=i.n(a);s.a},"2b40":function(e,t,i){},"4a18":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-header"},[i("mt-header",{attrs:{fixed:"",title:e.title}})],1),i("div",{staticClass:"content"},[i("div",{staticClass:"quantity-wrapper"},[i("mt-button",{staticClass:"subtract-quantity",attrs:{type:"default"},on:{click:e.subtractQuantity}},[e._v("-")]),i("mt-field",{staticClass:"quantity",attrs:{type:"number"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}}),i("mt-button",{staticClass:"add-quantity",attrs:{type:"default"},on:{click:e.addQuantity}},[e._v("+")])],1),i("hr"),i("div",[i("mt-radio",{attrs:{title:"Price",options:e.priceOptions},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),i("hr"),e._l(e.comboLevelList,function(t){return i("div",{key:t.level},[t.multiSelect?i("div",[i("mt-checklist",{attrs:{title:t.title,max:t.MaxItems,options:t.options},model:{value:t.model,callback:function(i){e.$set(t,"model",i)},expression:"item.model"}})],1):e._e(),t.multiSelect?e._e():i("div",[i("mt-radio",{attrs:{title:t.title,options:t.options},model:{value:t.model,callback:function(i){e.$set(t,"model",i)},expression:"item.model"}})],1)])}),e.comboLevelList.length>0?i("hr"):e._e(),e._l(e.requestList,function(t){return e.isModify?i("div",{key:t.key},[i("mt-button",{attrs:{size:"large"},on:{click:function(e){t.visible=!0}}},[e._v(e._s(t.title))]),i("mt-popup",{staticClass:"page-popup",model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"item.visible"}},[i("mt-checklist",{attrs:{title:t.title,options:t.options},model:{value:e.selectedRequests,callback:function(t){e.selectedRequests=t},expression:"selectedRequests"}}),i("mt-button",{attrs:{size:"large"},on:{click:function(e){t.visible=!1}}},[e._v("Close")])],1)],1):e._e()}),e._l(e.actionList,function(t){return e.isModify?i("div",{key:t.StrReqActionPK},[i("mt-button",{attrs:{size:"large"},on:{click:function(e){t.visible=!0}}},[e._v(e._s(t.ActionName))]),i("mt-popup",{staticClass:"page-popup",model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"action.visible"}},[e._l(t.requestList,function(a){return i("div",{key:a.key},[i("mt-button",{attrs:{size:"large"},on:{click:function(e){a.visible=!0}}},[e._v(e._s(a.title))]),i("mt-popup",{staticClass:"page-popup",model:{value:a.visible,callback:function(t){e.$set(a,"visible",t)},expression:"item.visible"}},[i("mt-checklist",{staticClass:"two-columns",attrs:{title:a.title,options:a.options},model:{value:e.selectedRequests,callback:function(t){e.selectedRequests=t},expression:"selectedRequests"}}),i("mt-button",{attrs:{size:"large"},on:{click:function(e){a.visible=!1,t.visible=!1}}},[e._v("Close")])],1)],1)}),i("mt-button",{attrs:{size:"large"},on:{click:function(e){t.visible=!1}}},[e._v("Close")])],2)],1):e._e()})],2),i("div",{staticClass:"page-footer"},[e.orderPK?e._e():i("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.addToCartClick}},[e._v("Add to Cart")]),e.orderPK?i("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.sendToKitchen}},[e._v("Send To Kitchen")]):e._e(),i("mt-button",{attrs:{size:"large",type:"primary",plain:""},on:{click:e.cancelClick}},[e._v("Cancel")])],1)])},s=[],r=(i("7f7f"),i("f400"),i("ac6a"),i("6b54"),i("76a0")),n=i("0544"),o={name:"AddToCart",data:function(){return{categoryPK:"",menuPK:"",orderPK:"",orderItemPK:"",title:"",price:"",priceOptions:[],comboLevelList:[],quantity:1,isModify:!1,requestList:[],actionList:[],selectedRequests:[]}},created:function(){if(this.menuPK=this.$route.params.menuPK,this.orderPK=this.$route.params.orderPK,this.orderItemPK=this.$route.params.orderItemPK,this.orderItemPK?this.isModify=!0:this.isModify=!1,this.$store.state.menuPKIndex.has(this.menuPK)){var e=this.$store.state.menuPKIndex.get(this.menuPK);this.categoryPK=e.MnuCategoryPK,this.title=e.ItemName,this.procesPriceData(e,e.priceMap),this.procesComboData(e.comboMap),this.processRequest(this.$store.state.requestCategoryPKIndex),this.processActionRequest(this.$store.state.requestActionPKIndex,this.$store.state.requestCategoryPKIndex),this.processOrderItem()}},methods:{addQuantity:function(){this.quantity+=1},subtractQuantity:function(){1!=this.quantity&&(this.quantity-=1)},processOrderItem:function(){var e=this;if(this.orderPK){if(!this.orderItemPK)return;r["Indicator"].open(),n["a"].GetInitializeOrderItem(this.orderItemPK).then(function(t){r["Indicator"].close(),e.initByOrderItem(t.data)}).catch(function(e){r["Indicator"].close(),console.log(e)})}else{if(!this.orderItemPK)return;for(var t=this.$store.state.cart,i=0;i<t.length;i++)if(t[i].OrdItemPK==this.orderItemPK){this.initByOrderItem(t[i]);break}}},initByOrderItem:function(e){var t=this;this.quantity=e.Quantity,this.price=e.PaidItemPrice.toString(),e.OrdItemRequestList.forEach(function(e,i){"00000000-0000-0000-0000-000000000000"==e.StrReqActionPK?t.selectedRequests.push(e.ReqItemPK):t.selectedRequests.push(e.ReqItemPK+"|"+e.StrReqActionPK)});var i=new Map;e.OrdItemSelectionList.forEach(function(e,t){i.has(e.Level)||i.set(e.Level,new Array);var a=i.get(e.Level);a.push(e.SelectItemPK)}),this.comboLevelList.forEach(function(e,t){if(e.multiSelect){if(i.has(e.level)){var a=i.get(e.level);a.length>0&&(e.model=[],a.forEach(function(t,i){e.model.push(t)}))}}else if(i.has(e.level)){var s=i.get(e.level);s.length>0&&(e.model=s[0])}})},addToCartClick:function(){var e=this;r["Indicator"].open();var t=new Array;this.comboLevelList.forEach(function(e,i){e.multiSelect?e.model.forEach(function(e,i){t.push(e)}):t.push(e.model)}),n["a"].CreateDineInOrderItem(this.menuPK,this.quantity,this.price,t,this.selectedRequests).then(function(t){var i=t.data,a=e.$store.state.cart;if(e.orderItemPK){for(var s=0;s<a.length;s++)if(a[s].OrdItemPK==e.orderItemPK){a.splice(s,1,i);break}}else a.push(i);r["Indicator"].close(),e.$router.push({name:"Cart"})}).catch(function(e){r["Indicator"].close(),console.log(e)})},sendToKitchen:function(){var e=this;r["Indicator"].open();var t=new Array;this.comboLevelList.forEach(function(e,i){e.multiSelect?e.model.forEach(function(e,i){t.push(e)}):t.push(e.model)}),this.orderItemPK?n["a"].UpdateAndPrintDineInOrderItem(this.orderItemPK,this.quantity,this.price,t,this.selectedRequests).then(function(t){t.data.OK||console.log(t.data.Error),r["Indicator"].close(),e.$router.push({name:"OrderList"})}).catch(function(e){r["Indicator"].close(),console.log(e)}):n["a"].AddNewAndPrintDineInOrderItem(this.orderPK,this.menuPK,this.quantity,this.price,t,this.selectedRequests).then(function(t){t.data.OK||console.log(t.data.Error),r["Indicator"].close(),e.$router.push({name:"OrderDetail",params:{orderPK:e.orderPK}})}).catch(function(e){r["Indicator"].close(),console.log(e)})},cancelClick:function(){this.orderPK?this.$router.push({name:"OrderDetail",params:{orderPK:this.orderPK}}):this.$router.push({name:"Menu",params:{categoryPK:this.categoryPK}})},procesPriceData:function(e,t){var i=this;if(e.AllDay||this.isModify||t.size<=1)t.forEach(function(e,t,a){i.price=e.price.toString(),i.priceOptions.push({label:"$"+e.price.toString()+"("+e.name+")",value:e.price.toString()})});else{var a=this.$store.state.store;this.isLunchTime(a)?t.forEach(function(e,t,s){(e.lunch||a.LunchShowDinnerMenu)&&(i.price=e.price.toString(),i.priceOptions.push({label:"$"+e.price.toString()+"("+e.name+")",value:e.price.toString()}))}):t.forEach(function(e,t,s){e.lunch&&!a.DinnerShowLunchMenu||(i.price=e.price.toString(),i.priceOptions.push({label:"$"+e.price.toString()+"("+e.name+")",value:e.price.toString()}))})}},isLunchTime:function(e){var t=new Date(Date.parse(e.LunchBegin)),i=new Date(Date.parse(e.LunchEnd)),a=100*t.getHours()+t.getMinutes(),s=100*i.getHours()+i.getMinutes(),r=new Date,n=100*r.getHours()+r.getMinutes();if(s>=a){if(n>=a&&n<=s)return!0}else{if(n>=a&&n<=2359)return!0;if(n>=0&&n<=s)return!0}return!1},procesComboData:function(e){var t=this;e.forEach(function(e,i,a){if(0!=e.length){var s={},r=e[0];s.level=r.Level,s.title=""==r.ItemCategoryName?r.Level.toString():r.ItemCategoryName,s.max=r.MaxItems,r.MultiSelect?(s.model=[r.MnuItemSelctionPK],s.multiSelect=!0):(s.model=r.MnuItemSelctionPK,s.multiSelect=!1),s.options=[],e.forEach(function(e){s.options.push({label:e.SelectItemName||"N/A",value:e.MnuItemSelctionPK})}),t.comboLevelList.push(s)}})},processRequest:function(e){var t=this;e.forEach(function(e,i,a){if(e.IsForGeneral){var s={};s.title=e.CategoryName,s.key=e.ReqCategoryPK,s.options=[],s.visible=!1,e.requestList.forEach(function(e){s.options.push({label:e.ItemName,value:e.ReqItemPK})}),t.requestList.push(s)}})},processActionRequest:function(e,t){var i=this;e.forEach(function(e){e.requestList=new Array,e.visible=!1,t.forEach(function(t){if(t.IsForAction){var i={};i.title=t.CategoryName,i.key=e.StrReqActionPK+t.ReqCategoryPK,i.options=[],i.cost=e.Cost,i.visible=!1,t.requestList.forEach(function(t){i.options.push({label:t.ItemName,value:t.ReqItemPK+"|"+e.StrReqActionPK})}),e.requestList.push(i)}}),i.actionList.push(e)})}}},c=o,l=(i("59da"),i("2877")),u=Object(l["a"])(c,a,s,!1,null,"022c7f6c",null);u.options.__file="addtocart.vue";t["default"]=u.exports},"4b14":function(e,t,i){},"59da":function(e,t,i){"use strict";var a=i("2b40"),s=i.n(a);s.a},"6adf":function(e,t,i){},"7f7f":function(e,t,i){var a=i("86cc").f,s=Function.prototype,r=/^\s*function ([^ (]*)/,n="name";n in s||i("9e1e")&&a(s,n,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},8428:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-header"},[i("mt-header",{attrs:{fixed:"",title:"Cart"}},[i("router-link",{attrs:{slot:"left",to:{name:"Dashboard"}},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),i("mt-button",{attrs:{slot:"right"},on:{click:function(t){e.requestVisible=!0}},slot:"right"},[e._v("Order Request")]),e._l(e.list,function(t){return i("div",{key:t.OrdItemPK},[i("mt-cell",{class:t.FollowByLine?"followByLine":""},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"quantity"},[e._v(e._s(t.Quantity))]),i("span",[e._v(e._s(t.ItemName))]),e._l(t.OrdItemSelectionList,function(t){return i("div",{key:t.OrdItemSelectionPK},[i("span",{staticClass:"combo"},[e._v(e._s(t.SelectItemName))])])}),e._l(t.OrdItemRequestList,function(t){return i("div",{key:t.OrdItemRequestPK},[t.ActionName?i("span",{staticClass:"request"},[e._v(e._s(t.ActionName)+" - "+e._s(t.ReqItemName))]):e._e(),t.ActionName?e._e():i("span",{staticClass:"request"},[e._v(e._s(t.ReqItemName))])])})],2),i("span",{staticClass:"price"},[e._v(e._s((e.getUnitPrice(t)*t.Quantity).toFixed(2)))]),i("mt-button",{attrs:{icon:"more"},on:{click:function(i){e.itemClick(t.OrdItemPK)}}})],1)],1)}),i("mt-cell",[i("span",{staticClass:"total"},[e._v("SubTotal: "+e._s(e.subtotal.toFixed(2)))])]),i("mt-cell",[i("span",{staticClass:"total"},[e._v("Tax: "+e._s(e.tax.toFixed(2)))])]),i("mt-cell",[i("span",{staticClass:"total"},[e._v("Total: "+e._s(e.total.toFixed(2)))])]),i("mt-popup",{staticClass:"page-popup",model:{value:e.tableVisible,callback:function(t){e.tableVisible=t},expression:"tableVisible"}},[i("mt-button",{attrs:{size:"large",type:"primary",plain:""},on:{click:e.scanQRClick}},[e._v("Scan Table ID")]),i("h2",[e._v("Select Table ID")]),e._l(e.tableList,function(t){return i("div",{key:t.areaName},[i("mt-radio",{attrs:{title:t.areaName,options:t.tableList},model:{value:e.selectedTable,callback:function(t){e.selectedTable=t},expression:"selectedTable"}})],1)}),i("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.tableClick}},[e._v("Send To Kitchen")])],2),i("mt-popup",{staticClass:"page-popup",model:{value:e.requestVisible,callback:function(t){e.requestVisible=t},expression:"requestVisible"}},[e._l(e.requestList,function(t){return i("div",{key:t.categoryName},[i("mt-checklist",{attrs:{title:t.categoryName,options:t.requestList},model:{value:e.selectedRequests,callback:function(t){e.selectedRequests=t},expression:"selectedRequests"}})],1)}),i("mt-button",{attrs:{size:"large"},on:{click:e.closeOrderRequest}},[e._v("Close")])],2),i("mt-button",{attrs:{size:"large",type:"primary",plain:""},on:{click:e.continueOrderClick}},[e._v("Continue To Order")]),i("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.sendToClick}},[e._v("Send To Kitchen")]),i("mt-actionsheet",{attrs:{actions:e.command,cancelText:"Cancel"},model:{value:e.commandVisible,callback:function(t){e.commandVisible=t},expression:"commandVisible"}})],2)},s=[],r=(i("ac6a"),i("76a0")),n=i("0544"),o={name:"Cart",data:function(){return{list:[],subtotal:0,tax:0,total:0,command:[],selectedItem:"",commandVisible:!1,tableVisible:!1,tableList:[],selectedTable:"",requestVisible:!1,requestList:[],selectedRequests:[]}},created:function(){var e=this;this.processRequest(this.$store.state.requestCategoryPKIndex),this.$store.state.requestList.forEach(function(t,i){e.selectedRequests.push(t)}),this.list=this.$store.state.cart,this.list.forEach(function(t,i){var a=e.getUnitPrice(t);e.subtotal+=a*t.Quantity;var s=t.StateTaxRate+t.LocalTaxRate;e.tax+=s*t.Quantity*a});var t=this.$store.state.tableAreaIndex;t.forEach(function(t,i,a){var s=new Array;t.forEach(function(e,t){s.push({label:e.TableID,value:e.MapTablePK})}),e.tableList.push({areaName:i,tableList:s})}),this.total=this.subtotal+this.tax,this.command.push({name:"Add Line",method:this.addLine}),this.command.push({name:"Remove Line",method:this.removeLine}),this.command.push({name:"Edit",method:this.editItem}),this.command.push({name:"Delete",method:this.deleteItem})},methods:{processRequest:function(e){var t=this;e.forEach(function(e,i,a){if(e.IsForGeneral){var s=new Array;e.requestList.forEach(function(e){s.push({label:e.ItemName,value:e.ReqItemPK})}),t.requestList.push({categoryName:e.CategoryName,requestList:s})}})},closeOrderRequest:function(){this.requestVisible=!1;var e=this.$store.state.requestList;e.splice(0,e.length),this.selectedRequests.forEach(function(t,i){e.push(t)})},getUnitPrice:function(e){return e.PaidItemPrice+e.PaidSelectPrice+e.PaidReqPrice},itemClick:function(e){this.selectedItem=e,this.commandVisible=!0},getSelectedData:function(){for(var e=null,t=0;t<this.list.length;t++)if(this.list[t].OrdItemPK==this.selectedItem){e=this.list[t];break}return e},addLine:function(){var e=this.getSelectedData();null!=e&&(e.FollowByLine=!0)},removeLine:function(){var e=this.getSelectedData();null!=e&&(e.FollowByLine=!1)},editItem:function(){var e=this.getSelectedData();null!=e&&this.$router.push({name:"AddToCart",params:{menuPK:e.MnuItemPK,orderItemPK:e.OrdItemPK}})},deleteItem:function(){var e=this,t="Are you sure to delete this item ?";r["MessageBox"].confirm(t,"Delete Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(function(t){for(var i=0;i<e.list.length;i++)if(e.list[i].OrdItemPK==e.selectedItem){e.list.splice(i,1);break}}).catch(function(e){console.log(e)})},sendToClick:function(){var e=this.$store.state.cart;0!=e.length&&(this.tableVisible=!0)},scanQRClick:function(){var e=this;try{cordova.plugins.barcodeScanner.scan(function(t){t.cancelled||(e.selectedTable=t.text,e.sendToKitchen(),e.tableVisible=!1)},function(e){alert("Scanning failed: "+e)},{preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,torchOn:!0,saveHistory:!0,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"QR_CODE",orientation:"portrait",disableAnimations:!0,disableSuccessBeep:!1})}catch(e){console.log(e)}},tableClick:function(){this.tableVisible=!1,this.sendToKitchen()},sendToKitchen:function(){var e=this,t=this.$store.state.deviceInfo.uuid;r["Indicator"].open(),n["a"].SaveAndPrintDineInOrder(this.list,this.selectedRequests,t,this.selectedTable,1,0).then(function(t){t.data.OK||console.log(t.data.Error);var i=e.$store.state.cart;i.splice(0,i.length),i=e.$store.state.requestList,i.splice(0,i.length),r["Indicator"].close(),e.$router.push({name:"Dashboard"})}).catch(function(e){r["Indicator"].close(),console.log(e)})},continueOrderClick:function(){this.$router.push({name:"MenuCategory"})}}},c=o,l=(i("888b"),i("2877")),u=Object(l["a"])(c,a,s,!1,null,"9b4aa52e",null);u.options.__file="cart.vue";t["default"]=u.exports},"888b":function(e,t,i){"use strict";var a=i("6adf"),s=i.n(a);s.a},a6a1:function(e,t,i){},aad1:function(e,t,i){"use strict";var a=i("4b14"),s=i.n(a);s.a},c833:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-header"},[i("mt-header",{attrs:{fixed:"",title:"Menu Item"}},[i("router-link",{attrs:{slot:"left",to:{name:"MenuCategory",params:{orderPK:this.orderPK}}},slot:"left"},[i("mt-button",{attrs:{icon:"back"}},[e._v("Back")])],1)],1)],1),i("div",e._l(e.list,function(t){return i("div",{key:t.MnuItemPK,staticClass:"list"},[i("mt-button",{staticClass:"list-item",attrs:{plain:""},on:{click:function(i){e.itemClick(t.MnuItemPK)}}},[e._v(e._s(t.ItemName))])],1)}))])},s=[],r=(i("ac6a"),i("76a0")),n=i("0544"),o={name:"Menu",data:function(){return{categoryPK:"",orderPK:"",list:[]}},created:function(){if(this.categoryPK=this.$route.params.categoryPK,this.orderPK=this.$route.params.orderPK,this.$store.state.menuCategoryPKIndex.has(this.categoryPK)){var e=this.$store.state.menuCategoryPKIndex.get(this.categoryPK);this.list=e.menuList}else this.$router.push({name:"Loading"})},methods:{itemClick:function(e){var t=this;if(this.$store.state.menuPKIndex.has(e)){var i=this.$store.state.menuPKIndex.get(e);if(i.priceMap.size>1||i.comboMap.size>0)this.$router.push({name:"AddToCart",params:{menuPK:e,orderPK:this.orderPK}});else{r["Indicator"].open();var a=0;i.priceMap.forEach(function(e,t,i){a=e.price}),this.orderPK?n["a"].AddNewAndPrintDineInOrderItem(this.orderPK,e,1,a).then(function(e){e.data.OK||console.log(e.data.Error),r["Indicator"].close(),t.$router.push({name:"OrderDetail",params:{orderPK:t.orderPK}})}).catch(function(e){r["Indicator"].close(),console.log(e)}):n["a"].CreateDineInOrderItem(e,1,a).then(function(e){var i=e.data,a=t.$store.state.cart;a.push(i),r["Indicator"].close(),t.$router.push({name:"Cart"})}).catch(function(e){r["Indicator"].close(),console.log(e)})}}else Object(r["Toast"])("This menu does not exist.")}}},c=o,l=(i("aad1"),i("2877")),u=Object(l["a"])(c,a,s,!1,null,"bacfd7cc",null);u.options.__file="menu.vue";t["default"]=u.exports}}]);
//# sourceMappingURL=Menu.d3ec2a6c.js.map